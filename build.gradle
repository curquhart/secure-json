plugins {
    id "com.github.spotbugs" version "1.6.4"
    id "com.github.ksoichiro.console.reporter" version "0.5.0"
    id "com.github.johnrengelman.shadow" version "4.0.1"
}

apply from: 'build.common.gradle'

sourceSets {
    shared {
        java {
            srcDirs 'src/shared/java'
        }
    }

    cli {
        java {
            srcDirs 'src/cli/java'
        }
        compileClasspath += sourceSets.main.output
        runtimeClasspath += sourceSets.main.output
        compileClasspath += sourceSets.shared.output
        runtimeClasspath += sourceSets.shared.output
    }

    test {
        java {
            compileClasspath += sourceSets.shared.output
            runtimeClasspath += sourceSets.shared.output
        }
    }
}


tasks.withType(com.github.spotbugs.SpotBugsTask) {
    reports {
        xml.enabled = false
        html.enabled = true
    }
}
